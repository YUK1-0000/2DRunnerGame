[gd_scene load_steps=18 format=3 uid="uid://bkrv2b6mar7nm"]

[ext_resource type="PackedScene" uid="uid://b0uwj3rv72kkv" path="res://terrain_template.tscn" id="1_yuydd"]
[ext_resource type="PackedScene" uid="uid://cc3srqmsn2thc" path="res://player.tscn" id="2_1m1li"]
[ext_resource type="Script" path="res://main.gd" id="2_bbbll"]
[ext_resource type="Script" path="res://camera.gd" id="3_kjqs5"]
[ext_resource type="PackedScene" uid="uid://dyxyq03vecd4j" path="res://TerrainScene/flat_terrain.tscn" id="3_lsk0f"]
[ext_resource type="PackedScene" uid="uid://cjcpbdmgh76sf" path="res://death_zone.tscn" id="4_b5cv7"]
[ext_resource type="PackedScene" uid="uid://ngdn8v7lw8sr" path="res://TerrainScene/terrain_a.tscn" id="4_h8gnd"]
[ext_resource type="PackedScene" uid="uid://5pkkuod2vf1c" path="res://TerrainScene/terrain_b.tscn" id="5_6jhs7"]
[ext_resource type="Texture2D" uid="uid://btowc36hg77ml" path="res://Asset/Background_2.png" id="6_a4a5a"]
[ext_resource type="PackedScene" uid="uid://xwj0ps0o8j3t" path="res://TerrainScene/terrain_c.tscn" id="6_xxx6y"]
[ext_resource type="PackedScene" uid="uid://rco4jmhbgf5p" path="res://TerrainScene/terrain_d.tscn" id="7_7t2gu"]
[ext_resource type="Texture2D" uid="uid://b0mx0x28onat0" path="res://Asset/Background_1.png" id="7_hbvgk"]
[ext_resource type="PackedScene" uid="uid://cjsu74pwi2pv5" path="res://TerrainScene/terrain_e.tscn" id="8_niafl"]
[ext_resource type="PackedScene" uid="uid://cjfmwg027skuw" path="res://TerrainScene/terrain_f.tscn" id="9_wlnpx"]
[ext_resource type="PackedScene" uid="uid://7yf5qod4c5yp" path="res://TerrainScene/terrain_g.tscn" id="10_tmgj4"]

[sub_resource type="GDScript" id="GDScript_yjw8t"]
script/source = "extends CenterContainer

@onready var start_button = %StartButton


func show_() -> void:
	show()
	start_button.grab_focus()
"

[sub_resource type="GDScript" id="GDScript_mt4la"]

[node name="Main" instance=ExtResource("1_yuydd")]
script = ExtResource("2_bbbll")
flat_terrain = ExtResource("3_lsk0f")
a = ExtResource("4_h8gnd")
b = ExtResource("5_6jhs7")
c = ExtResource("6_xxx6y")
d = ExtResource("7_7t2gu")
e = ExtResource("8_niafl")
f = ExtResource("9_wlnpx")
g = ExtResource("10_tmgj4")

[node name="TileMap" parent="." index="0"]
layer_0/tile_data = PackedInt32Array()

[node name="ConnectionPoint" parent="." index="1"]
position = Vector2(0, 0)

[node name="Player" parent="." index="2" instance=ExtResource("2_1m1li")]
unique_name_in_owner = true
position = Vector2(32, 224)

[node name="StartInTimer" type="Timer" parent="." index="3"]
wait_time = 3.0
one_shot = true

[node name="CanvasLayer" type="CanvasLayer" parent="." index="4"]

[node name="StartMenu" type="CenterContainer" parent="CanvasLayer" index="0"]
unique_name_in_owner = true
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = SubResource("GDScript_yjw8t")

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/StartMenu" index="0"]
custom_minimum_size = Vector2(64, 0)
layout_mode = 2

[node name="StartButton" type="Button" parent="CanvasLayer/StartMenu/VBoxContainer" index="0"]
unique_name_in_owner = true
process_mode = 3
layout_mode = 2
text = "Start
"

[node name="QuitButton" type="Button" parent="CanvasLayer/StartMenu/VBoxContainer" index="1"]
unique_name_in_owner = true
process_mode = 3
layout_mode = 2
text = "Quit"

[node name="InGameUI" type="MarginContainer" parent="CanvasLayer" index="1"]
unique_name_in_owner = true
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 8.0
offset_top = 8.0
offset_right = -8.0
offset_bottom = -6.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="TimeLabel" type="Label" parent="CanvasLayer/InGameUI" index="0"]
unique_name_in_owner = true
custom_minimum_size = Vector2(64, 0)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 0
vertical_alignment = 1

[node name="GameOverMenu" type="CenterContainer" parent="CanvasLayer" index="2"]
unique_name_in_owner = true
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = SubResource("GDScript_mt4la")

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/GameOverMenu" index="0"]
layout_mode = 2

[node name="ResultLabel" type="Label" parent="CanvasLayer/GameOverMenu/VBoxContainer" index="0"]
unique_name_in_owner = true
layout_mode = 2

[node name="ContinueButton" type="Button" parent="CanvasLayer/GameOverMenu/VBoxContainer" index="1"]
unique_name_in_owner = true
process_mode = 3
layout_mode = 2
text = "Continue"

[node name="Background" type="ParallaxBackground" parent="CanvasLayer" index="3"]
offset = Vector2(240, 135)
transform = Transform2D(1, 0, 0, 1, 240, 135)

[node name="ParallaxLayer" type="ParallaxLayer" parent="CanvasLayer/Background" index="0"]
motion_scale = Vector2(0.1, 0.1)
motion_mirroring = Vector2(496, 0)

[node name="Sprite2D" type="Sprite2D" parent="CanvasLayer/Background/ParallaxLayer" index="0"]
texture = ExtResource("6_a4a5a")

[node name="ParallaxLayer2" type="ParallaxLayer" parent="CanvasLayer/Background" index="1"]
motion_scale = Vector2(0.3, 0.3)
motion_mirroring = Vector2(496, 0)

[node name="Sprite2D" type="Sprite2D" parent="CanvasLayer/Background/ParallaxLayer2" index="0"]
texture = ExtResource("7_hbvgk")

[node name="Terrain" type="Node2D" parent="." index="5"]

[node name="Camera" type="Camera2D" parent="." index="6"]
unique_name_in_owner = true
position = Vector2(160, 136)
script = ExtResource("3_kjqs5")

[node name="DeathZone" parent="Camera" index="0" instance=ExtResource("4_b5cv7")]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Camera/DeathZone" index="0"]
polygon = PackedVector2Array(-240, -136, -272, -136, -272, 168, 240, 168, 240, 136, -240, 136)

[connection signal="pressed" from="CanvasLayer/StartMenu/VBoxContainer/StartButton" to="." method="_on_start_button_pressed"]
[connection signal="pressed" from="CanvasLayer/StartMenu/VBoxContainer/QuitButton" to="." method="_on_quit_button_pressed"]
[connection signal="pressed" from="CanvasLayer/GameOverMenu/VBoxContainer/ContinueButton" to="." method="_on_continue_button_pressed"]
